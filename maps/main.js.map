{"version":3,"file":"../javascript/main.js","names":["dealInputValue","histogram","init","document","querySelector","fuel1Value","fuel2Value","alertTarget","count","baseAlertHTML","wich","$","click","e","preventDefault","documentElement","body","animate","scrollTop","offset","top","setTimeout","remove","plotHistogramTable","getHistogram","then","plotHistogramChart","x","state","alert","message","parseFloat","value","replace","Math","round","classList","add","innerHTML","setHistogram","alchoolPrice","gasPrice","date","Date","now","fuel","updateLineChart"],"sources":["main.js"],"sourcesContent":["import {dealInputValue} from './dealInputValue.js';\r\nimport * as histogram from './histogram.js';\r\n\r\nexport let init = function(){\r\n    let target = document.querySelector('.btn-calcular')\r\n    let alertTarget = document.querySelector('.alert-user')\r\n    let fuel1Value, fuel2Value, count = \"\";\r\n    let lim = 0.7;\r\n    let baseAlertHTML = \"\";\r\n    let wich = \"\";\r\n\r\n    $('.container-text-splashscreen .btn').click((e) =>{\r\n        e.preventDefault();\r\n        $([document.documentElement, document.body]).animate({\r\n            scrollTop: $('#main-section').offset().top\r\n        },'slow', 'linear',()=>{\r\n            setTimeout(()=>{\r\n                $('.splashscreen').remove(); \r\n            }, 1000);\r\n        })\r\n    })\r\n\r\n    histogram.plotHistogramTable( histogram.getHistogram() )\r\n    .then( histogram.plotHistogramChart( histogram.getHistogram() )  )\r\n\r\n    $('.btn-calcular').click((e)=> {\r\n       e.preventDefault()\r\n\r\n       dealInputValue()\r\n        .then( x => {\r\n            if( !x.state ) {\r\n                alert(x.message)\r\n                return false;\r\n            }\r\n            fuel1Value = parseFloat(document.querySelector('#alchool').value.replace(',', \".\").replace(\"R$\",\"\"));\r\n            fuel2Value = parseFloat(document.querySelector('#gasoline').value.replace(',', \".\").replace(\"R$\",\"\"));\r\n            \r\n            count = fuel1Value / fuel2Value\r\n\r\n            baseAlertHTML = \"\"\r\n            \r\n            if(count <= lim){\r\n                //usar alcool\r\n                baseAlertHTML += `Alcool`\r\n                wich = \"Alcool\"\r\n                baseAlertHTML += `<ul>\r\n                    <li>Apesar do alcool gastar mais, ele é mais economico nesse momento</li>\r\n                    <li>Diferença de preço de ${Math.round(count*100)/100} %</li>\r\n                </ul>`\r\n            }else{\r\n                //usar gasolina\r\n                baseAlertHTML += `Gasolina`\r\n                wich = \"Gasolina\"\r\n                baseAlertHTML += `<ul>\r\n                    <li>Apesar da gasolina ser mais cara, seu rendimento é maior, então é a opção mais economica nesse momento</li>\r\n                    <li>Diferença de preço de ${Math.round(count*100)/100} %</li>\r\n                </ul>`\r\n            }\r\n\r\n            alertTarget.classList.add('open')\r\n            alertTarget.innerHTML = baseAlertHTML;\r\n\r\n            histogram.setHistogram({alchoolPrice:fuel1Value,\r\n                gasPrice:fuel2Value,\r\n                date:Date.now(),\r\n                fuel: wich\r\n            }).then( histogram.plotHistogramTable( histogram.getHistogram() ) )\r\n            .then( histogram.updateLineChart( histogram.getHistogram() ) )\r\n        })\r\n    })\r\n}\r\n\r\n\r\ninit();"],"mappings":"OAAQA,mBAAqB,gCACjBC,cAAe,wBAEpB,IAAIC,KAAO,WACDC,SAASC,cAAc,iBAApC,IAEIC,EAAYC,EADZC,EAAcJ,SAASC,cAAc,eACbI,EAAQ,GAEhCC,EAAgB,GAChBC,EAAO,GAEXC,EAAE,qCAAqCC,OAAOC,IAC1CA,EAAEC,iBACFH,EAAE,CAACR,SAASY,gBAAiBZ,SAASa,OAAOC,QAAQ,CACjDC,UAAWP,EAAE,iBAAiBQ,SAASC,KACzC,OAAQ,UAAS,KACfC,YAAW,KACPV,EAAE,iBAAiBW,QAAQ,GAC5B,IAAK,GACX,IAGLrB,UAAUsB,mBAAoBtB,UAAUuB,gBACvCC,KAAMxB,UAAUyB,mBAAoBzB,UAAUuB,iBAE/Cb,EAAE,iBAAiBC,OAAOC,IACvBA,EAAEC,iBAEFd,iBACEyB,MAAME,IACH,IAAKA,EAAEC,MAEH,OADAC,MAAMF,EAAEG,UACD,EAEXzB,EAAa0B,WAAW5B,SAASC,cAAc,YAAY4B,MAAMC,QAAQ,IAAK,KAAKA,QAAQ,KAAK,KAChG3B,EAAayB,WAAW5B,SAASC,cAAc,aAAa4B,MAAMC,QAAQ,IAAK,KAAKA,QAAQ,KAAK,KAEjGzB,EAAQH,EAAaC,EAErBG,EAAgB,GAEbD,GAlCD,IAoCEC,GAAiB,SACjBC,EAAO,SACPD,GAAiB,sJAEeyB,KAAKC,MAAY,IAAN3B,GAAW,sCAItDC,GAAiB,WACjBC,EAAO,WACPD,GAAiB,4LAEeyB,KAAKC,MAAY,IAAN3B,GAAW,qCAI1DD,EAAY6B,UAAUC,IAAI,QAC1B9B,EAAY+B,UAAY7B,EAExBR,UAAUsC,aAAa,CAACC,aAAanC,EACjCoC,SAASnC,EACToC,KAAKC,KAAKC,MACVC,KAAMnC,IACPe,KAAMxB,UAAUsB,mBAAoBtB,UAAUuB,iBAChDC,KAAMxB,UAAU6C,gBAAiB7C,UAAUuB,gBAAiB,GAChE,GAET,EAGAtB"}